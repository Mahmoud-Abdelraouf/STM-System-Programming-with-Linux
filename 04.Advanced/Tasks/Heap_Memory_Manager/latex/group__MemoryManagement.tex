\doxysection{Memory Management}
\hypertarget{group__MemoryManagement}{}\label{group__MemoryManagement}\index{Memory Management@{Memory Management}}


Functions for memory management.  


\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{group__MemoryManagement_ga0d0d58e2b3f34ada92ab7889d013e717}{mm\+\_\+init}} ()
\begin{DoxyCompactList}\small\item\em Initializes the memory manager. \end{DoxyCompactList}\item 
static void \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{group__MemoryManagement_ga8b6e564655ddbbb3147b2d28ee398e5c}{mm\+\_\+get\+\_\+new\+\_\+vm\+\_\+page\+\_\+from\+\_\+kernel}} (int units)
\item 
static void \mbox{\hyperlink{group__MemoryManagement_gab7ac1212082ab9c61aab19e76696d9ec}{mm\+\_\+return\+\_\+vm\+\_\+page\+\_\+to\+\_\+kernel}} (void \texorpdfstring{$\ast$}{*}vm\+\_\+page, int units)
\item 
void \mbox{\hyperlink{group__MemoryManagement_ga3ed96883ba6c4711318dbae3f5941bbf}{mm\+\_\+instantiate\+\_\+new\+\_\+page\+\_\+family}} (char \texorpdfstring{$\ast$}{*}struct\+\_\+name, uint32\+\_\+t struct\+\_\+size)
\begin{DoxyCompactList}\small\item\em Instantiates a new page family for a memory structure. \end{DoxyCompactList}\item 
\mbox{\hyperlink{memory__manager_8h_ad146e732e35bec81b72c7437204e9ee8}{vm\+\_\+page\+\_\+family\+\_\+t}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{group__MemoryManagement_gab9910db7228c29ee672139e284cd6cec}{lookup\+\_\+page\+\_\+family\+\_\+by\+\_\+name}} (char \texorpdfstring{$\ast$}{*}struct\+\_\+name)
\begin{DoxyCompactList}\small\item\em Looks up a page family by its name. \end{DoxyCompactList}\item 
static \mbox{\hyperlink{memory__manager_8h_a3781a6a3593d9877d1c25c4c8e3f1868}{vm\+\_\+page\+\_\+t}} \texorpdfstring{$\ast$}{*} \mbox{\hyperlink{group__MemoryManagement_gacf3ff2e7438d4ae2c531e8851b7270e8}{mm\+\_\+family\+\_\+new\+\_\+page\+\_\+add}} (\mbox{\hyperlink{memory__manager_8h_ad146e732e35bec81b72c7437204e9ee8}{vm\+\_\+page\+\_\+family\+\_\+t}} \texorpdfstring{$\ast$}{*}vm\+\_\+page\+\_\+family)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Functions for memory management. 



\doxysubsection{Function Documentation}
\Hypertarget{group__MemoryManagement_gab9910db7228c29ee672139e284cd6cec}\label{group__MemoryManagement_gab9910db7228c29ee672139e284cd6cec} 
\index{Memory Management@{Memory Management}!lookup\_page\_family\_by\_name@{lookup\_page\_family\_by\_name}}
\index{lookup\_page\_family\_by\_name@{lookup\_page\_family\_by\_name}!Memory Management@{Memory Management}}
\doxysubsubsection{\texorpdfstring{lookup\_page\_family\_by\_name()}{lookup\_page\_family\_by\_name()}}
{\footnotesize\ttfamily \mbox{\hyperlink{memory__manager_8h_ad146e732e35bec81b72c7437204e9ee8}{vm\+\_\+page\+\_\+family\+\_\+t}} \texorpdfstring{$\ast$}{*} lookup\+\_\+page\+\_\+family\+\_\+by\+\_\+name (\begin{DoxyParamCaption}\item[{char \texorpdfstring{$\ast$}{*}}]{struct\+\_\+name }\end{DoxyParamCaption})}



Looks up a page family by its name. 

-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/---\texorpdfstring{$<$}{<} Public functions interface -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/--- 

This function iterates over all virtual memory pages hosting page families and returns a pointer to the page family object identified by the given struct\+\_\+name. If no such page family object is found, it returns NULL.


\begin{DoxyParams}{Parameters}
{\em struct\+\_\+name} & The name of the page family to look up.\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Pointer to the page family object if found, otherwise NULL.
\end{DoxyReturn}
\begin{DoxyNote}{Note}
This function should be used to retrieve a page family object by its name after the page families have been registered and initialized using the appropriate functions and macros provided by the memory manager.
\end{DoxyNote}
\begin{DoxySeeAlso}{See also}
\doxylink{group__MemoryManagement_ga0d0d58e2b3f34ada92ab7889d013e717}{mm\+\_\+init} 

\doxylink{memory__manager__api_8h_a499d5d9d246e2afe4506e751ba45ec1e}{MM\+\_\+\+REG\+\_\+\+STRUCT} 

\doxylink{memory__manager_8h_a0cf10cad96e10ff9160b976e509f9462}{vm\+\_\+page\+\_\+for\+\_\+families\+\_\+t} 

\doxylink{memory__manager_8h_ad146e732e35bec81b72c7437204e9ee8}{vm\+\_\+page\+\_\+family\+\_\+t} 
\end{DoxySeeAlso}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{group__MemoryManagement_gab9910db7228c29ee672139e284cd6cec_icgraph}
\end{center}
\end{figure}
\Hypertarget{group__MemoryManagement_gacf3ff2e7438d4ae2c531e8851b7270e8}\label{group__MemoryManagement_gacf3ff2e7438d4ae2c531e8851b7270e8} 
\index{Memory Management@{Memory Management}!mm\_family\_new\_page\_add@{mm\_family\_new\_page\_add}}
\index{mm\_family\_new\_page\_add@{mm\_family\_new\_page\_add}!Memory Management@{Memory Management}}
\doxysubsubsection{\texorpdfstring{mm\_family\_new\_page\_add()}{mm\_family\_new\_page\_add()}}
{\footnotesize\ttfamily static \mbox{\hyperlink{memory__manager_8h_a3781a6a3593d9877d1c25c4c8e3f1868}{vm\+\_\+page\+\_\+t}} \texorpdfstring{$\ast$}{*} mm\+\_\+family\+\_\+new\+\_\+page\+\_\+add (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{memory__manager_8h_ad146e732e35bec81b72c7437204e9ee8}{vm\+\_\+page\+\_\+family\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{vm\+\_\+page\+\_\+family }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{group__MemoryManagement_gacf3ff2e7438d4ae2c531e8851b7270e8_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{group__MemoryManagement_gacf3ff2e7438d4ae2c531e8851b7270e8_icgraph}
\end{center}
\end{figure}
\Hypertarget{group__MemoryManagement_ga8b6e564655ddbbb3147b2d28ee398e5c}\label{group__MemoryManagement_ga8b6e564655ddbbb3147b2d28ee398e5c} 
\index{Memory Management@{Memory Management}!mm\_get\_new\_vm\_page\_from\_kernel@{mm\_get\_new\_vm\_page\_from\_kernel}}
\index{mm\_get\_new\_vm\_page\_from\_kernel@{mm\_get\_new\_vm\_page\_from\_kernel}!Memory Management@{Memory Management}}
\doxysubsubsection{\texorpdfstring{mm\_get\_new\_vm\_page\_from\_kernel()}{mm\_get\_new\_vm\_page\_from\_kernel()}}
{\footnotesize\ttfamily static void \texorpdfstring{$\ast$}{*} mm\+\_\+get\+\_\+new\+\_\+vm\+\_\+page\+\_\+from\+\_\+kernel (\begin{DoxyParamCaption}\item[{int}]{units }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{group__MemoryManagement_ga8b6e564655ddbbb3147b2d28ee398e5c_icgraph}
\end{center}
\end{figure}
\Hypertarget{group__MemoryManagement_ga0d0d58e2b3f34ada92ab7889d013e717}\label{group__MemoryManagement_ga0d0d58e2b3f34ada92ab7889d013e717} 
\index{Memory Management@{Memory Management}!mm\_init@{mm\_init}}
\index{mm\_init@{mm\_init}!Memory Management@{Memory Management}}
\doxysubsubsection{\texorpdfstring{mm\_init()}{mm\_init()}}
{\footnotesize\ttfamily void mm\+\_\+init (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Initializes the memory manager. 

-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/---\texorpdfstring{$<$}{<} Includes section -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/--- -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/---\texorpdfstring{$<$}{<} Public functions interface section -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/--- 

This function initializes the memory manager. It sets up necessary configurations and parameters for memory management operations within the program. It specifically determines the system page size using the {\ttfamily getpagesize()} system call and assigns it to the global variable {\ttfamily SYSTEM\+\_\+\+PAGE\+\_\+\+SIZE}.

\begin{DoxyNote}{Note}
This function should be called before any memory management operations are performed within the program. It is typically called at the beginning of the program execution to ensure proper initialization of memory management functionalities.
\end{DoxyNote}
\begin{DoxyWarning}{Warning}
This function relies on the {\ttfamily getpagesize()} system call to determine the system page size. Therefore, it may not be portable across all platforms. It is primarily intended for use in Unix-\/like systems where {\ttfamily getpagesize()} is available.
\end{DoxyWarning}
\begin{DoxySeeAlso}{See also}
man getpagesize() 
\end{DoxySeeAlso}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=214pt]{group__MemoryManagement_ga0d0d58e2b3f34ada92ab7889d013e717_icgraph}
\end{center}
\end{figure}
\Hypertarget{group__MemoryManagement_ga3ed96883ba6c4711318dbae3f5941bbf}\label{group__MemoryManagement_ga3ed96883ba6c4711318dbae3f5941bbf} 
\index{Memory Management@{Memory Management}!mm\_instantiate\_new\_page\_family@{mm\_instantiate\_new\_page\_family}}
\index{mm\_instantiate\_new\_page\_family@{mm\_instantiate\_new\_page\_family}!Memory Management@{Memory Management}}
\doxysubsubsection{\texorpdfstring{mm\_instantiate\_new\_page\_family()}{mm\_instantiate\_new\_page\_family()}}
{\footnotesize\ttfamily void mm\+\_\+instantiate\+\_\+new\+\_\+page\+\_\+family (\begin{DoxyParamCaption}\item[{char \texorpdfstring{$\ast$}{*}}]{struct\+\_\+name,  }\item[{uint32\+\_\+t}]{struct\+\_\+size }\end{DoxyParamCaption})}



Instantiates a new page family for a memory structure. 

This function creates a new page family for a memory structure identified by its name and size. It allocates memory for the page family and adds it to the existing virtual memory pages if necessary. Each page family can contain multiple memory structures of the same type.


\begin{DoxyParams}{Parameters}
{\em struct\+\_\+name} & The name of the memory structure. \\
\hline
{\em struct\+\_\+size} & The size of the memory structure.\\
\hline
\end{DoxyParams}
\begin{DoxyNote}{Note}
If the size of the memory structure exceeds the system page size, an error message is printed, and the function returns without creating the page family.

This function maintains a linked list of virtual memory pages ({\ttfamily first\+\_\+vm\+\_\+page\+\_\+for\+\_\+families}) to store the page families. If there are no existing pages, it allocates a new page and initializes it with the first page family. If the existing pages are full, it allocates a new page and adds it to the beginning of the linked list.

If a page family with the same name already exists, an assertion error is triggered, indicating a conflict in page family instantiation.
\end{DoxyNote}
\begin{DoxyWarning}{Warning}
This function relies on the {\ttfamily \doxylink{group__MemoryManagement_ga8b6e564655ddbbb3147b2d28ee398e5c}{mm\+\_\+get\+\_\+new\+\_\+vm\+\_\+page\+\_\+from\+\_\+kernel()}} function to allocate memory from the kernel for the page family. Improper use or misuse of this function can lead to memory leaks or system instability.
\end{DoxyWarning}
\begin{DoxySeeAlso}{See also}
\doxylink{group__MemoryManagement_ga8b6e564655ddbbb3147b2d28ee398e5c}{mm\+\_\+get\+\_\+new\+\_\+vm\+\_\+page\+\_\+from\+\_\+kernel()} 
\end{DoxySeeAlso}
Here is the call graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{group__MemoryManagement_ga3ed96883ba6c4711318dbae3f5941bbf_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=286pt]{group__MemoryManagement_ga3ed96883ba6c4711318dbae3f5941bbf_icgraph}
\end{center}
\end{figure}
\Hypertarget{group__MemoryManagement_gab7ac1212082ab9c61aab19e76696d9ec}\label{group__MemoryManagement_gab7ac1212082ab9c61aab19e76696d9ec} 
\index{Memory Management@{Memory Management}!mm\_return\_vm\_page\_to\_kernel@{mm\_return\_vm\_page\_to\_kernel}}
\index{mm\_return\_vm\_page\_to\_kernel@{mm\_return\_vm\_page\_to\_kernel}!Memory Management@{Memory Management}}
\doxysubsubsection{\texorpdfstring{mm\_return\_vm\_page\_to\_kernel()}{mm\_return\_vm\_page\_to\_kernel()}}
{\footnotesize\ttfamily static void mm\+\_\+return\+\_\+vm\+\_\+page\+\_\+to\+\_\+kernel (\begin{DoxyParamCaption}\item[{void \texorpdfstring{$\ast$}{*}}]{vm\+\_\+page,  }\item[{int}]{units }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

Here is the caller graph for this function\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{group__MemoryManagement_gab7ac1212082ab9c61aab19e76696d9ec_icgraph}
\end{center}
\end{figure}
